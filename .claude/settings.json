{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo 'Principal Engineer mode active.'"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "if echo \"$CLAUDE_TOOL_INPUT\" | grep -qE 'git (commit|push)'; then echo 'Before committing: Ensure npm run lint and npm run type-check pass'; fi"
          }
        ]
      }
    ]
  },
  "customInstructions": "Follow CLAUDE.md and AGENTS.md guidelines.\n\n## Proactive Skill Application\n\nAutomatically apply skill principles WITHOUT waiting to be asked:\n\n### During Code Writing\n| When I'm writing... | Automatically apply... |\n|---------------------|------------------------|\n| Auth/permissions code (getUserIdentity, auth checks) | /security-review: Check guards, privilege escalation |\n| Convex functions (queries, mutations, actions) | /security-review: Input validation, auth checks + /performance-review: Index usage |\n| React components | /accessibility-review: Semantic HTML, ARIA, keyboard + /performance-review: Server vs client, memo |\n| Convex schema (convex/schema.ts) | /convex-review: Indexes, soft deletes, relations |\n| Convex queries | /performance-review: N+1 patterns, parallel loading |\n| Forms with user input | /security-review: Validation, sanitization + /accessibility-review: Labels, errors |\n\n### After Completing Work\n| When I finish... | Automatically... |\n|------------------|------------------|\n| Any code changes | Run /bug-hunt checklist mentally before suggesting commit |\n| New user-facing feature | Offer to generate /test-plan |\n| New Convex function | Offer to generate /docs |\n| Significant refactoring | Apply /refactor principles, check for dead code |\n\n### When Asked About Releases/Deployment\n- Walk through /release-checklist items\n- Suggest /dependency-audit if not run recently\n- Verify Convex schema is safe to deploy\n\n### When Discussing Planning/Architecture\n- Offer /architecture-review for major feature planning\n- Offer /tech-debt-inventory during roadmap discussions\n- Offer /observability-review after incidents or when debugging is mentioned as painful\n\n### Integration Style\nDon't announce 'I'm running /security-review now' - just integrate the checks naturally. For example, when writing a Convex mutation, automatically verify: auth guards exist, inputs validated, errors handled properly.\n\nRun npm run lint and npm run type-check before suggesting commits."
}
